{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?8857","webpack:///./src/components/TFModels.vue?9b26","webpack:///./src/assets/js/constants.js","webpack:///./src/assets/js/BMI.js","webpack:///./src/assets/js/mttscan/lib/tensorStore.js","webpack:///./src/assets/js/mttscan/constant/index.js","webpack:///./src/assets/js/mttscan/lib/moveAvgProcessor.js","webpack:///./src/assets/js/mttscan/tensorflow/TSM.js","webpack:///./src/assets/js/mttscan/tensorflow/AttentionMask.js","webpack:///./src/assets/js/mttscan/lib/posprocessor.js","webpack:///./src/assets/js/mttscan/lib/preprocessor.js","webpack:///./src/assets/js/pulse.js","webpack:///./src/assets/js/webcam.js","webpack:///./src/assets/js/ppgChart.js","webpack:///src/components/TFModels.vue","webpack:///./src/components/TFModels.vue?3ca2","webpack:///./src/components/TFModels.vue?c4f0","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?2667","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/TFModels.vue?3070"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","_v","staticStyle","_s","maxCount","staticClass","directives","rawName","isCamStarted","expression","attrs","isModelReady","on","startCam","stopCam","isRecordStarted","startRecording","loadingMsg","_e","curCount","domProps","AGE","BMI","HR","RR","maxCountDown","mean","arr","sum","reduce","a","b","mae","avg","delta","map","Math","abs","BMIModel","model","BMIPool","AGEPool","SEXPool","Path","callback","tf","x","predict","dispose","console","log","tensor","box","imageSize","crop","cropAndResize","elm","srcObject","fromPixels","expandDims","cropImage","div","sub","dataSync","SEX","TensorStore","rawFrames","forEach","f","hrPltData","rrPltData","initialWait","BATCHSIZE","MovingAvgProcessor","movingAvg","dataSet","TSM","inputs","tidy","out1","out2","out3","empty","out","input","nt","shape","h","w","foldDiv","fold","floor","lastFold","reshape","split","padding1","zeros","concat","padding2","config","layers","Layer","AttentionMask","inputShape","inputSum","mul","Posprocessor","tensorStore","rppgAvgProcessor","reset","respAvgProcessor","path","serialization","registerClass","loadLayersModel","normalizedBatch","rawBatch","res","hr","rr","addHRPltData","addRRPltData","Preprocessor","posprocessor","previousFrame","isProcessing","process","frame","getRawTensor","compute","setTimeout","currentFrame","expandOrigV","asType","scalar","clipByValue","tempNormalizedFrame","add","normalizedFrame","moments","variance","sqrt","tempMeanNormalize","meanNormalize","nNormalize","mNoramlize","tempRawBath","tempNormalizedBatch","cast","tempNormalized","PulseModel","postprocessor","preprocessor","loadModel","browser","image","origV","gather","addRawTensor","startProcess","stopProcess","pltData","iirFilter","rppgCumsum","cumsum","filtfilt","labels","Array","from","keys","toString","y","signal","flb","fub","fs","fttSizeRaw","fttSize","pow","ceil","log2","bci","periodogram","frequencies","pxx","estimates","ff","pxxf","indexOf","max","iirCalculator","Fili","CalcCascades","iirFilterCoeffs","bandpass","order","characteristic","Fs","Fc","BW","gain","preGain","IirFilter","output_i","HRFreq","getFrequency","RRFreq","webcam","constraints","video","width","height","facingMode","audio","navigator","mediaDevices","getUserMedia","then","stream","play","getTracks","track","stop","plotChart","canvas","label","seriesColor","datasets","backgroundColor","borderColor","type","options","maintainAspectRatio","elements","point","radius","plugins","legend","align","obj","Chart","computed","isBMIModelReady","isPulseModelReady","mounted","loadModels","BasePath","document","getElementById","mask","overlay","adjustSize","drawBox","isResultsReady","methods","destoryCharts","chartHR","destroy","chartRR","predictBMI","predictPulse","countDown","output","toFixed","canvasHR","canvasRR","intvBMI","setInterval","intvPulse","invtCountDown","clearInterval","y1","x1","y2","x2","ctx","beginPath","lineWidth","strokeStyle","rect","leftSpace","topSpace","stroke","camSize","screen","setAttribute","component","VBtn","VContainer","VDivider","components","TFModels","VApp","VMain","Vue","use","Vuetify","productionTip","vuetify","render","App","$mount"],"mappings":"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","file":"js/app.25e9ae7a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('TFModels')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('div',[_c('b',[_vm._v(\" This is a camera-based remote PPG monitoring app, which also measures BMI and skin age. \")]),_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" Place your face in the red box and keep stationary for \"+_vm._s(_vm.maxCount)+\" seconds \")])]),_c('div',{staticClass:\"my-3 d-flex justify-center\"},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isCamStarted),expression:\"!isCamStarted\"}],staticClass:\"mx-3\",attrs:{\"rounded\":\"\",\"disabled\":!_vm.isModelReady},on:{\"click\":_vm.startCam}},[_vm._v(\"start Camera\")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCamStarted),expression:\"isCamStarted\"}],staticClass:\"mx-3\",attrs:{\"rounded\":\"\"},on:{\"click\":_vm.stopCam}},[_vm._v(\"stop Camera\")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCamStarted && _vm.isModelReady && !_vm.isRecordStarted),expression:\"isCamStarted && isModelReady && !isRecordStarted\"}],staticClass:\"mx-3\",attrs:{\"rounded\":\"\"},on:{\"click\":_vm.startRecording}},[_vm._v(\"Start recording\")])],1),_c('div',{staticClass:\"d-flex justify-center mt-3\"},[(_vm.loadingMsg)?_c('p',[_vm._v(_vm._s(_vm.loadingMsg))]):_vm._e(),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCamStarted),expression:\"isCamStarted\"}]},[_vm._v(\"recording stops in \"+_vm._s(_vm.curCount)+\" seconds\")])]),_c('div',{staticClass:\"d-flex justify-center mb-3\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCamStarted),expression:\"isCamStarted\"}],attrs:{\"id\":\"overlay\"}},[_c('video',{attrs:{\"src\":\"\",\"muted\":\"\",\"playsinline\":\"\",\"id\":\"webcam\"},domProps:{\"muted\":true}}),_c('canvas',{attrs:{\"id\":\"mask\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isResultsReady),expression:\"isResultsReady\"}],attrs:{\"id\":\"results\"}},[_c('v-divider',{staticClass:\"my-6\"}),_c('b',[_vm._v(\"Your Estimated Pulse & Respiratory\")]),_c('div',{staticClass:\"chart\"},[_c('canvas',{attrs:{\"id\":\"chartHR\"}})]),_c('div',{staticClass:\"chart\"},[_c('canvas',{attrs:{\"id\":\"chartRR\"}})]),_c('v-divider',{staticClass:\"my-6\"}),_c('b',[_vm._v(\"Your Estimated Vital Measurements\")]),_c('ul',[_c('li',[_vm._v(\"AGE: \"+_vm._s(_vm.AGE))]),_c('li',[_vm._v(\"BMI: \"+_vm._s(_vm.BMI))]),_c('li',[_vm._v(\"HR : \"+_vm._s(_vm.HR)+\" bpm\")]),_c('li',[_vm._v(\"RR : \"+_vm._s(_vm.RR)+\" rpm\")])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const maxCountDown = 60;","import * as tf from \"@tensorflow/tfjs\";\n\nfunction mean(arr) {\n    const sum = arr.reduce((a, b) => a + b, 0);\n    return sum / arr.length;\n}\n\nfunction mae(arr) {\n    const avg = mean(arr);\n    const delta = arr.map(i => Math.abs(i - avg));\n    return mean(delta);\n}\n\nclass BMIModel {\n    constructor() {\n        this.model = null;\n        this.BMIPool = [];\n        this.AGEPool = [];\n        this.SEXPool = [];\n    }\n\n    async loadModel(Path, callback = null) {\n        this.model = await tf.loadLayersModel(Path);\n        const x = tf.zeros([1, 224, 224, 3]);\n        this.model.predict(x);\n        x.dispose();\n        console.log(\"BMI model is loaded!\");\n        if (callback) {\n            callback();\n        }\n    }\n\n    cropImage(tensor, box, imageSize) {\n        const crop = tf.image.cropAndResize(tensor, box, [0], imageSize, 'bilinear');\n        return crop;\n    }\n\n    predict(elm, box, imageSize) {\n        if (elm.srcObject != null) {\n            const x = tf.tidy(() => {\n                let x = tf.browser.fromPixels(elm).expandDims(0);\n                x = this.cropImage(x, box, imageSize);\n                x = x.div(tf.scalar(127.5)).sub(tf.scalar(1));\n                return x;\n            })\n            const [a, b, c] = this.model.predict(x);\n            const BMI = a.dataSync()[0];\n            const AGE = b.dataSync()[0];\n            const SEX = c.dataSync()[0];\n            a.dispose();\n            b.dispose();\n            c.dispose();\n            this.BMIPool.push(BMI);\n            this.AGEPool.push(AGE);\n            this.SEXPool.push(SEX);\n            return [BMI, AGE, SEX];\n        }\n    }\n\n    output() {\n        return {\n            BMI: [mean(this.BMIPool), mae(this.BMIPool)],\n            AGE: [mean(this.AGEPool), mae(this.AGEPool)],\n            SEX: [mean(this.SEXPool), mae(this.SEXPool)]\n        }\n    }\n}\n\nexport default new BMIModel();","import { dispose } from '@tensorflow/tfjs';\n\nclass TensorStore {\n\n    constructor() {\n        this.rawFrames = [];\n        this.hrPltData = [];\n        this.rrPltData = [];\n        this.initialWait = true;\n    }\n\n    reset = () => {\n        this.rawFrames.forEach(f => {\n            dispose(f);\n        });\n        this.rawFrames = [];\n        this.hrPltData = [];\n        this.rrPltData = [];\n        this.initialWait = true;\n    };\n\n    getRawTensor = () => {\n        if (this.rawFrames) {\n            const tensor = this.rawFrames.shift() || null;\n            return tensor;\n        }\n        return null;\n    };\n\n    addHRPltData = (data) => {\n        this.hrPltData = [...this.hrPltData, ...data];\n    };\n    addRRPltData = (data) => {\n        this.rrPltData = [...this.rrPltData, ...data];\n    };\n\n    addRawTensor = (tensor) => {\n        this.rawFrames.push(tensor);\n    };\n}\n\nexport default new TensorStore();","export const BATCHSIZE = 10;","import { BATCHSIZE } from '../constant';\n\nclass MovingAvgProcessor {\n\n    constructor() {\n        this.sum = 0;\n        this.movingAvg = 0;\n        this.dataSet = [];\n    }\n\n    reset = () => {\n        this.sum = 0;\n        this.movingAvg = 0;\n        this.dataSet = [];\n    };\n\n    getSum = () => this.sum;\n\n    getMovingAvg = () => this.movingAvg;\n\n    addData = (data) => {\n        if (this.dataSet.length === BATCHSIZE) {\n            this.sum -= this.dataSet.shift() || 0;\n        }\n        this.sum += data;\n        this.dataSet.push(data);\n        this.movingAvg = this.sum / this.dataSet.length;\n    };\n}\n\nexport default MovingAvgProcessor;","import { tidy, reshape, split, zeros, concat, layers } from '@tensorflow/tfjs';\n\nclass TSM extends layers.Layer {\n    static className = 'TSM';\n\n    call(inputs) {\n        return tidy(() => {\n            // Initialization\n            let input = inputs[0];\n            let out1;\n            let out2;\n            let out3;\n            let empty;\n            let out;\n            const nt = input.shape[0]; // batch_size;\n            const h = input.shape[1];\n            const w = input.shape[2];\n            const c = input.shape[3];\n\n            const foldDiv = 3;\n            const fold = Math.floor(c / foldDiv);\n            const lastFold = c - (foldDiv - 1) * fold;\n            input = reshape(input, [-1, nt, h, w, c]);\n            [out1, out2, out3] = split(input, [fold, fold, lastFold], -1);\n\n            // Shift left\n            const padding1 = zeros([\n                out1.shape[0],\n                1,\n                out1.shape[2],\n                out1.shape[3],\n                fold\n            ]);\n            [empty, out1] = split(out1, [1, nt - 1], 1);\n            out1 = concat([out1, padding1], 1);\n\n            // Shift right\n            const padding2 = zeros([\n                out2.shape[0],\n                1,\n                out2.shape[2],\n                out2.shape[3],\n                fold\n            ]);\n\n            [out2, empty] = split(out2, [nt - 1, 1], 1);\n            out2 = concat([padding2, out2], 1);\n            out = concat([out1, out2, out3], -1);\n            out = reshape(out, [-1, h, w, c]);\n            out3 = empty;\n            return out;\n        });\n    }\n\n    getConfig() {\n        const config = super.getConfig();\n        return config;\n    }\n\n    static getClassName() {\n        return 'TSM';\n    }\n}\n\nexport default TSM;","import * as tf from '@tensorflow/tfjs';\n\nclass AttentionMask extends tf.layers.Layer {\n    static className = 'AttentionMask';\n\n    computeOutputShape(inputShape) {\n        return [inputShape[0], inputShape[1], inputShape[2], inputShape[3]];\n    }\n\n    call(inputs) {\n        return tf.tidy(() => {\n            const input = inputs[0];\n            let inputSum = tf.sum(input, 1, true);\n            inputSum = tf.sum(inputSum, 2, true);\n            const out = input\n                .div(inputSum)\n                .mul(input.shape[1])\n                .mul(input.shape[2])\n                .mul(0.5);\n\n            return out;\n        });\n    }\n\n    getConfig() {\n        const config = super.getConfig();\n        return config;\n    }\n\n    static getClassName() {\n        return 'AttentionMask';\n    }\n}\n\nexport default AttentionMask;","import {\n    serialization,\n    loadLayersModel,\n} from '@tensorflow/tfjs';\nimport MovingAvgProcessor from './moveAvgProcessor';\nimport TSM from '../tensorflow/TSM';\nimport AttentionMask from '../tensorflow/AttentionMask';\n\nclass Posprocessor {\n\n    constructor(tensorStore) {\n        this.tensorStore = tensorStore;\n        this.rppgAvgProcessor = new MovingAvgProcessor();\n        this.respAvgProcessor = new MovingAvgProcessor();\n        this.model = null;\n    }\n\n    reset = () => {\n        this.rppgAvgProcessor.reset();\n        this.respAvgProcessor.reset();\n    };\n\n    loadModel = async (path) => {\n        if (this.model === null) {\n            serialization.registerClass(TSM);\n            serialization.registerClass(AttentionMask);\n            this.model = await loadLayersModel(path);\n        }\n        return true;\n    };\n\n    compute = (normalizedBatch, rawBatch) => {\n        if (this.model) {\n            const res = this.model.predict([normalizedBatch, rawBatch]);\n            const [hr, rr] = res;\n            this.tensorStore.addHRPltData(hr.dataSync());\n            this.tensorStore.addRRPltData(rr.dataSync());\n        }\n    };\n}\n\nexport default Posprocessor;","import {\n    tidy,\n    dispose,\n    tensor,\n    scalar,\n    div,\n    sub,\n    add,\n    moments,\n    concat,\n    cast,\n    mean\n} from '@tensorflow/tfjs';\nimport { BATCHSIZE } from '../constant';\n\nclass Preprocessor {\n\n    constructor(tensorStore, posprocessor) {\n        this.tensorStore = tensorStore;\n        this.posprocessor = posprocessor;\n        this.previousFrame = null;\n        this.isProcessing = false;\n\n        this.rawBatch = tensor([]);\n        this.normalizedBatch = tensor([]);\n    }\n\n    reset = () => {\n        dispose(this.rawBatch);\n        dispose(this.normalizedBatch);\n        if (this.previousFrame) {\n            dispose(this.previousFrame);\n        }\n        this.previousFrame = null;\n        this.isProcessing = false;\n        this.rawBatch = tensor([]);\n        this.normalizedBatch = tensor([]);\n    };\n\n    startProcess = () => {\n        this.isProcessing = true;\n        this.process();\n    };\n\n    stopProcess = () => {\n        this.isProcessing = false;\n        this.reset();\n    };\n\n    process = () => {\n        if (this.isProcessing) {\n            const frame = this.tensorStore.getRawTensor();\n            if (!frame) {\n                setTimeout(() => {\n                    this.process();\n                }, 30);\n            } else {\n                // const tpre = new Date();\n                this.compute(this.previousFrame, frame);\n                // console.log('preprocess ', new Date() - tpre);\n                dispose(frame);\n                this.process();\n            }\n        }\n    };\n\n    compute = (previousFrame, currentFrame) => {\n        const [frame, nNormalize, mNoramlize] = tidy(() => {\n            const expandOrigV = currentFrame\n                .asType('float32')\n                .div(scalar(255))\n                .clipByValue(1 / 255, 1)\n                .expandDims(0);\n            if (previousFrame) {\n                const tempNormalizedFrame = div(\n                    sub(expandOrigV, previousFrame),\n                    add(expandOrigV, previousFrame)\n                );\n                const normalizedFrame = div(\n                    tempNormalizedFrame,\n                    moments(tempNormalizedFrame).variance.sqrt()\n                );\n\n                const tempMeanNormalize = sub(expandOrigV, mean(expandOrigV));\n                const meanNormalize = div(\n                    tempMeanNormalize,\n                    moments(tempMeanNormalize).variance.sqrt()\n                );\n                dispose(previousFrame);\n                return [expandOrigV, normalizedFrame, meanNormalize];\n            }\n            return [expandOrigV];\n        });\n\n        if (this.rawBatch.shape[0] && mNoramlize && nNormalize) {\n            const tempRawBath = tidy(() => concat([this.rawBatch, mNoramlize]));\n            dispose(this.rawBatch);\n            this.rawBatch = tempRawBath;\n\n            const tempNormalizedBatch = tidy(() =>\n                concat([this.normalizedBatch, nNormalize])\n            );\n            dispose(this.normalizedBatch);\n            this.normalizedBatch = tempNormalizedBatch;\n        } else if (nNormalize && mNoramlize) {\n            const tempRawBath = tidy(() => cast(mNoramlize, 'float32'));\n            dispose(this.rawBatch);\n            this.rawBatch = tempRawBath;\n\n            const tempNormalized = tidy(() => cast(nNormalize, 'float32'));\n            dispose(this.normalizedBatch);\n            this.normalizedBatch = tempNormalized;\n        }\n        if (this.rawBatch.shape[0] === BATCHSIZE) {\n            this.posprocessor.compute(this.normalizedBatch, this.rawBatch);\n            dispose(this.rawBatch);\n            dispose(this.normalizedBatch);\n            this.rawBatch = tensor([]);\n            this.normalizedBatch = tensor([]);\n        }\n        dispose(nNormalize);\n        dispose(mNoramlize);\n        this.previousFrame = frame;\n    };\n}\n\nexport default Preprocessor;","import { zeros, browser, image, tidy, cumsum, reshape } from \"@tensorflow/tfjs\";\nimport tensorStore from \"./mttscan/lib/tensorStore\";\nimport Posprocessor from \"./mttscan/lib/posprocessor\";\nimport Preprocessor from './mttscan/lib/preprocessor';\nimport Fili from 'fili';\nimport bci from \"bcijs\";\nimport { maxCountDown } from \"@/assets/js/constants\";\n\n\nclass PulseModel {\n    constructor() {\n        this.tensorStore = tensorStore;\n        this.postprocessor = new Posprocessor(this.tensorStore);\n        this.preprocessor = new Preprocessor(this.tensorStore, this.postprocessor);\n    }\n\n    async loadModel(path, callback = null) {\n        await this.postprocessor.loadModel(path);\n        const x = zeros([1, 36, 36, 3]);\n        const [a, b] = this.postprocessor.model.predict([x, x]);\n        a.dispose();\n        b.dispose();\n        x.dispose();\n        console.log('Pulse model is loaded!');\n        if (callback) {\n            callback();\n        }\n    }\n\n    capture(elm, box, imageSize) {\n        const x = tidy(() => {\n            const x = browser.fromPixels(elm).expandDims(0)\n            const crop = image.cropAndResize(x, box, [0], imageSize, 'bilinear');\n            const origV = crop.gather(0);\n            return origV;\n        });\n        this.tensorStore.addRawTensor(x);\n    }\n\n    start() {\n        this.preprocessor.startProcess();\n    }\n\n    stop() {\n        this.preprocessor.stopProcess();\n        this.tensorStore.reset();\n    }\n    output_i(pltData, iirFilter) {\n        if (pltData) {\n            const rppgCumsum = cumsum(reshape(pltData, [-1, 1]), 0).dataSync();\n            const result = iirFilter\n                .filtfilt(rppgCumsum)\n                .slice(0, rppgCumsum.length - 60);\n            const labels = Array.from(pltData.keys())\n                .map(i => i.toString())\n                .slice(0, rppgCumsum.length - 60);\n            return { x: labels, y: result };\n        }\n    }\n\n    getFrequency(signal, flb, fub) {\n        const fs = 30;\n        const fttSizeRaw = 4 * maxCountDown * fs;\n        const fttSize = Math.pow(2, Math.ceil(Math.log2(fttSizeRaw)));\n        const res = bci.periodogram(signal, fs, { fttSize: fttSize });\n        const f = res.frequencies;\n        const pxx = res.estimates;\n        const ff = [];\n        const pxxf = [];\n        for (let i = 0; i < f.length; i++) {\n            if (f[i] >= flb && f[i] <= fub) {\n                ff.push(f[i]);\n                pxxf.push(pxx[i]);\n            }\n        }\n        return ff[pxxf.indexOf(Math.max(...pxxf))] * 60\n    }\n\n    output() {\n        const iirCalculator = new Fili.CalcCascades();\n        const iirFilterCoeffs = iirCalculator.bandpass({\n            order: 1, // cascade 3 biquad filters (max: 12)\n            characteristic: 'butterworth',\n            Fs: 30, // sampling frequency\n            Fc: 1.375, // (2.5-0.75) / 2 + 0.75, 2.5 --> 150/60, 0.75 --> 45/60 # 1.625\n            BW: 1.25, // 2.5 - 0.75 = 1.75\n            gain: 0, // gain for peak, lowshelf and highshelf\n            preGain: false // adds one constant multiplication for highpass and lowpass\n        });\n        const iirFilter = new Fili.IirFilter(iirFilterCoeffs);\n        const HR = this.output_i(tensorStore.hrPltData, iirFilter);\n        const RR = this.output_i(tensorStore.rrPltData, iirFilter);\n        const HRFreq = this.getFrequency(HR['y'], 0.75, 2.5);\n        const RRFreq = this.getFrequency(RR['y'], 0.08, 0.5);\n        return [HR, RR, HRFreq, RRFreq];\n    }\n}\n\nexport default new PulseModel();","class webcam {\n    constructor() { }\n    start(elm, callback = null) {\n        const constraints = {\n            video: { width: elm.width, height: elm.height, facingMode: 'user' },\n            audio: false\n        }\n        navigator.mediaDevices.getUserMedia(constraints)\n            .then((stream) => {\n                elm.srcObject = stream;\n                elm.play();\n                if (callback) {\n                    callback();\n                }\n            })\n    }\n    stop(elm, callback = null) {\n        elm.srcObject.getTracks().forEach((track) => {\n            track.stop();\n        })\n        elm.srcObject = null;\n        if (callback) {\n            callback();\n        }\n    }\n}\n\n\n\n\nexport default new webcam();","import Chart from \"chart.js/auto\";\n\nfunction plotChart(canvas, x, y, label, seriesColor) {\n    const data = {\n        labels: x,\n        datasets: [\n            {\n                label: label,\n                backgroundColor: seriesColor,\n                borderColor: seriesColor,\n                data: y,\n            }\n        ]\n    };\n    const config = {\n        type: \"line\",\n        data,\n        options: {\n            maintainAspectRatio: false,\n            elements: {\n                point: {\n                    radius: 0,\n                }\n            },\n            plugins: {\n                legend: {\n                    align: \"start\",\n                },\n            }\n        }\n    };\n    const obj = new Chart(canvas, config);\n    return obj;\n}\n\nexport { plotChart };","<template>\n  <v-container>\n    <div>\n      <b>\n        This is a camera-based remote PPG monitoring app, which also measures\n        BMI and skin age.\n      </b>\n      <p style=\"color: red\">\n        Place your face in the red box and keep stationary for\n        {{ maxCount }} seconds\n      </p>\n    </div>\n\n    <div class=\"my-3 d-flex justify-center\">\n      <v-btn\n        @click=\"startCam\"\n        rounded\n        class=\"mx-3\"\n        v-show=\"!isCamStarted\"\n        :disabled=\"!isModelReady\"\n        >start Camera</v-btn\n      >\n      <v-btn @click=\"stopCam\" rounded class=\"mx-3\" v-show=\"isCamStarted\"\n        >stop Camera</v-btn\n      >\n      <v-btn\n        @click=\"startRecording\"\n        rounded\n        class=\"mx-3\"\n        v-show=\"isCamStarted && isModelReady && !isRecordStarted\"\n        >Start recording</v-btn\n      >\n    </div>\n\n    <div class=\"d-flex justify-center mt-3\">\n      <p v-if=\"loadingMsg\">{{ loadingMsg }}</p>\n      <p v-show=\"isCamStarted\">recording stops in {{ curCount }} seconds</p>\n    </div>\n    <div class=\"d-flex justify-center mb-3\">\n      <div id=\"overlay\" v-show=\"isCamStarted\">\n        <video src=\"\" muted playsinline id=\"webcam\"></video>\n        <canvas id=\"mask\"></canvas>\n      </div>\n    </div>\n\n    <div v-show=\"isResultsReady\" id=\"results\">\n      <v-divider class=\"my-6\"></v-divider>\n      <b>Your Estimated Pulse & Respiratory</b>\n      <div class=\"chart\">\n        <canvas id=\"chartHR\"></canvas>\n      </div>\n      <div class=\"chart\">\n        <canvas id=\"chartRR\"></canvas>\n      </div>\n      <v-divider class=\"my-6\"></v-divider>\n\n      <b>Your Estimated Vital Measurements</b>\n      <ul>\n        <li>AGE: {{ AGE }}</li>\n        <li>BMI: {{ BMI }}</li>\n        <li>HR : {{ HR }} bpm</li>\n        <li>RR : {{ RR }} rpm</li>\n      </ul>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport { maxCountDown } from \"@/assets/js/constants\";\nimport BMIModel from \"@/assets/js/BMI\";\nimport PulseModel from \"@/assets/js/pulse\";\nimport webcam from \"@/assets/js/webcam\";\nimport { plotChart } from \"@/assets/js/ppgChart\";\n\nexport default {\n  name: \"TFModels\",\n  data: () => ({\n    camSize: [480, 480],\n    imageSize: [224, 224],\n    box: null,\n    // status\n    isCamStarted: true,\n    isRecordStarted: false,\n    isBMIModelReady: false,\n    isPulseModelReady: false,\n    isResultsReady: true,\n    // count down\n    maxCount: maxCountDown,\n    curCount: maxCountDown,\n    // results\n    BMI: null,\n    AGE: null,\n    HR: null,\n    RR: null,\n    // intervals\n    intvBMI: null,\n    intvPulse: null,\n    invtCountDown: null,\n    chartHR: null,\n    chartRR: null,\n  }),\n  computed: {\n    isModelReady: function () {\n      return this.isBMIModelReady && this.isPulseModelReady;\n    },\n    loadingMsg: function () {\n      if (this.isBMIModelReady && this.isPulseModelReady) {\n        return null;\n      } else if (this.isBMIModelReady) {\n        return \"loading Pulse model ...\";\n      } else {\n        return \"loading BMI model ...\";\n      }\n    },\n  },\n\n  mounted: function () {\n    // const BasePath = \"http://localhost:5500/public\";\n    const BasePath = \"/data-story/assets/vital-signs-predict-60s\";\n    this.loadModels(BasePath);\n    this.webcam = document.getElementById(\"webcam\");\n    this.mask = document.getElementById(\"mask\");\n    this.overlay = document.getElementById(\"overlay\");\n    this.adjustSize();\n    this.drawBox();\n    this.isCamStarted = false;\n    this.isResultsReady = false;\n  },\n  methods: {\n    loadModels: function (BasePath) {\n      BMIModel.loadModel(BasePath + \"/models/BMI/model.json\", () => {\n        this.isBMIModelReady = true;\n      });\n      PulseModel.loadModel(BasePath + \"/models/Pulse/model.json\", () => {\n        this.isPulseModelReady = true;\n      });\n    },\n    reset: function () {\n      this.curCount = this.maxCount;\n      this.stopCam();\n    },\n    destoryCharts: function () {\n      if (this.chartHR) {\n        this.chartHR.destroy();\n      }\n      if (this.chartRR) {\n        this.chartRR.destroy();\n      }\n    },\n    startCam: function () {\n      const callback = () => {\n        this.isCamStarted = true;\n        this.isResultsReady = false;\n        this.destoryCharts();\n      };\n      webcam.start(this.webcam, callback);\n    },\n    stopCam: function () {\n      const callback = () => {\n        this.isCamStarted = false;\n        this.isRecordStarted = false;\n      };\n      webcam.stop(this.webcam, callback);\n    },\n\n    startRecording: function () {\n      this.isRecordStarted = true;\n      this.predictBMI();\n      this.predictPulse();\n      this.countDown();\n    },\n    output: function () {\n      this.isResultsReady = true;\n      const results = BMIModel.output();\n      this.BMI = `${results.BMI[0].toFixed(1)} +/- ${results.BMI[1].toFixed(\n        1\n      )}`;\n      this.AGE = `${results.AGE[0].toFixed(0)} +/- ${results.AGE[1].toFixed(\n        0\n      )}`;\n      const [HR, RR, HRFreq, RRFreq] = PulseModel.output();\n      // output HR, RR freq\n      this.RR = RRFreq.toFixed(1);\n      this.HR = HRFreq.toFixed(1);\n      // plot curve\n      const canvasHR = document.getElementById(\"chartHR\");\n      const canvasRR = document.getElementById(\"chartRR\");\n      this.chartHR = plotChart(canvasHR, HR.x, HR.y, \"HR\", \"red\");\n      this.chartRR = plotChart(canvasRR, RR.x, RR.y, \"RR\", \"green\");\n    },\n\n    predictBMI: function () {\n      this.intvBMI = setInterval(() => {\n        BMIModel.predict(this.webcam, this.box, [224, 224]);\n      }, 1000);\n    },\n\n    predictPulse: function () {\n      this.intvPulse = setInterval(() => {\n        PulseModel.capture(this.webcam, this.box, [36, 36]);\n      }, 30);\n      PulseModel.start();\n    },\n\n    countDown: function () {\n      this.invtCountDown = setInterval(() => {\n        if (this.curCount <= 0) {\n          clearInterval(this.intvBMI);\n          clearInterval(this.intvPulse);\n          clearInterval(this.invtCountDown);\n          this.output();\n          PulseModel.stop();\n          this.reset();\n        } else {\n          this.curCount--;\n        }\n      }, 1000);\n    },\n\n    drawBox: function () {\n      const leftSpace = parseInt((this.camSize[0] - this.imageSize[0]) / 2);\n      const topSpace = parseInt(0.3 * (this.camSize[1] - this.imageSize[1]));\n      const y1 = topSpace / this.camSize[1];\n      const x1 = leftSpace / this.camSize[0];\n      const y2 = y1 + this.imageSize[1] / this.camSize[1];\n      const x2 = x1 + this.imageSize[0] / this.camSize[0];\n      this.box = [[y1, x1, y2, x2]];\n      const ctx = this.mask.getContext(\"2d\");\n      ctx.beginPath();\n      ctx.lineWidth = 4;\n      ctx.strokeStyle = \"red\";\n      ctx.rect(leftSpace, topSpace, this.imageSize[0], this.imageSize[1]);\n      ctx.stroke();\n    },\n    adjustSize: function () {\n      if (this.camSize[0] > window.screen.width - 24) {\n        this.camSize = [window.screen.width - 24, window.screen.width - 24];\n      }\n      [this.mask.width, this.mask.height] = this.camSize;\n      [this.webcam.width, this.webcam.height] = this.camSize;\n      this.overlay.setAttribute(\n        \"style\",\n        `width : ${this.camSize[0]}px; height : ${this.camSize[1]}px; `\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n#overlay {\n  position: relative;\n  /* border: 1px black solid; */\n}\n\n#webcam {\n  position: absolute;\n  -o-transform: scaleX(-1);\n  -moz-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  -ms-transform: scaleX(-1);\n  transform: scaleX(-1);\n}\n\n#mask {\n  position: absolute;\n}\n\np {\n  text-align: justify;\n}\n\n.chart {\n  height: 200px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFModels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFModels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TFModels.vue?vue&type=template&id=a96c9ec0&scoped=true&\"\nimport script from \"./TFModels.vue?vue&type=script&lang=js&\"\nexport * from \"./TFModels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TFModels.vue?vue&type=style&index=0&id=a96c9ec0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a96c9ec0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VBtn,VContainer,VDivider})\n","<template>\n  <v-app>\n    <v-main>\n      <TFModels/>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport TFModels from './components/TFModels.vue';\n\nexport default {\n  name: 'App',\n\n  components: {\n    TFModels,\n  },\n\n  data: () => ({\n    //\n  }),\n};\n</script>\n\n<style>\n.v-btn--disabled {\n  pointer-events: unset !important;\n  cursor: default;\n}\n.container {\n  max-width: 1400px;\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=78cbe07c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TFModels.vue?vue&type=style&index=0&id=a96c9ec0&scoped=true&lang=css&\""],"sourceRoot":""}